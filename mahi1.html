<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Food Express - Order Food Online</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #0a0a0a;
        --accent: #ff6b00;
        --bg: #f5f5f7;
        --card: #ffffff;
        --border: #e5e5e5;
        --text: #111;
        --secondaryText: #6b7280;
        --success: #22c55e;
        --danger: #ef4444;
      }

      body {
        font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
        color: var(--text);
        background: var(--bg);
      }

      /* Header */
      .header {
        background: var(--card);
        padding: 18px 28px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.05);
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .logo {
        display: flex;
        flex-direction: column;
        cursor: pointer;
        transition: transform 0.3s ease;
      }

      .logo:hover {
        transform: scale(1.05);
      }

      .logo-top {
        font-size: 14px;
        font-weight: 500;
        color: #2c3e50;
        letter-spacing: 1px;
      }

      .logo-main {
        font-size: 36px;
        font-weight: 900;
        color: rgb(31, 70, 31);
        letter-spacing: -1px;
        line-height: 1;
      }

      .header-actions {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .header-icon-btn {
        position: relative;
        cursor: pointer;
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: 0.3s;
        color: var(--text);
        border: none;
        background: none;
      }

      .header-icon-btn:hover {
        background: #eff6ff;
        color: var(--primary);
      }

      .header-icon-btn i {
        font-size: 1.5rem;
      }

      .cart-count {
        position: absolute;
        top: 5px;
        right: 5px;
        background: var(--primary);
        color: white;
        font-size: 0.75rem;
        font-weight: bold;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* Container */
      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 30px 20px;
      }

      /* Page Views */
      .page-view {
        display: none;
        animation: fadeIn 0.3s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .page-view.active {
        display: block;
      }

      /* Home Page Styles */
      .section {
        margin: 50px 0;
      }

      .section-header {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 24px;
      }

      .section-title {
        font-size: 26px;
        font-weight: 700;
        color: var(--text);
      }
      .section-titles {
        font-size: 35px;
        font-weight: 700;
        color: var(--text);
      }

      .restaurants-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 30px;
      }

      .restaurant-card {
        background: #fff;
        border-radius: 16px;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      .restaurant-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
      }

      .card-img {
        width: 100%;
        height: 180px;
        object-fit: cover;
      }

      .card-info {
        padding: 14px;
      }

      .card-name {
        font-size: 18px;
        font-weight: 700;
        margin-bottom: 6px;
      }

      /* Cart Page Styles */
      .cart-container {
        padding: 30px;
        max-width: 1400px;
        margin: 0 auto;
      }

      .cart-inner {
        background: var(--card);
        padding: 25px 32px;
        border-radius: 22px;
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
      }

      .cart-top h2 {
        font-size: 26px;
        font-weight: 700;
        margin-bottom: 25px;
      }

      .cart-layout {
        display: grid;
        grid-template-columns: 2fr 1.2fr;
        gap: 30px;
      }

      .empty-cart {
        text-align: center;
        padding: 60px 20px;
        color: var(--secondaryText);
        font-size: 18px;
      }

      .empty-cart i {
        font-size: 80px;
        color: var(--border);
        margin-bottom: 20px;
      }

      .cart-items {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .cart-item {
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 16px;
        display: grid;
        grid-template-columns: 80px 1fr auto;
        gap: 16px;
        background: #fff;
        transition: 0.3s ease;
      }

      .cart-item:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      }

      .cart-item-img img {
        width: 80px;
        height: 80px;
        border-radius: 12px;
        object-fit: cover;
      }

      .cart-item-name {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 4px;
      }

      .cart-item-restaurant {
        font-size: 13px;
        color: var(--secondaryText);
        margin-bottom: 8px;
      }

      .cart-item-actions {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 8px;
      }

      .qty-control {
        display: flex;
        align-items: center;
        border: 1px solid var(--border);
        border-radius: 50px;
        overflow: hidden;
      }

      .qty-control button {
        background: #f5f5f5;
        border: none;
        padding: 6px 12px;
        font-size: 16px;
        cursor: pointer;
        transition: 0.2s ease;
        font-weight: 700;
      }

      .qty-control button:hover {
        background: var(--primary);
        color: white;
      }

      .qty-control span {
        padding: 0 12px;
        font-size: 14px;
        font-weight: 600;
      }

      .cart-item-total {
        font-size: 16px;
        font-weight: 700;
        color: var(--primary);
      }

      .remove-item {
        border: none;
        background: none;
        font-size: 18px;
        color: var(--danger);
        cursor: pointer;
        padding: 4px 8px;
        transition: 0.2s ease;
      }

      .remove-item:hover {
        transform: scale(1.1);
      }

      .cart-box {
        background: #fff;
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 20px;
      }

      .cart-box h3 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 12px;
      }

      .summary-row {
        display: flex;
        justify-content: space-between;
        font-size: 14px;
        margin: 8px 0;
      }

      .cart-box hr {
        border: none;
        border-top: 1px solid var(--border);
        margin: 12px 0;
      }

      .total-row {
        font-weight: 700;
        font-size: 18px;
        margin-top: 10px;
      }

      .checkout-btn {
        width: 100%;
        padding: 14px;
        margin-top: 16px;
        background: #2c3e50;
        color: #fff;
        border: none;
        border-radius: 16px;
        font-size: 16px;
        font-weight: 700;
        cursor: pointer;
        transition: 0.3s ease;
      }

      .checkout-btn:hover {
        background: #1a252f;
        transform: translateY(-2px);
      }

      .back-btn {
        border: none;
        background: var(--primary);
        color: #fff;
        padding: 12px 24px;
        border-radius: 50px;
        font-size: 14px;
        cursor: pointer;
        font-weight: 600;
        transition: 0.2s ease;
        margin-top: 20px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .back-btn:hover {
        background: #000;
        transform: translateY(-2px);
      }

      /* Checkout Page */
      .checkout-grid {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 30px;
        margin-top: 20px;
      }

      .form-section {
        background: white;
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 20px;
        border: 1px solid var(--border);
      }

      .section-title {
        font-size: 20px;
        font-weight: 700;
        margin-bottom: 20px;
      }

      .form-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }

      .form-group {
        margin-bottom: 16px;
      }

      .form-group.full-width {
        grid-column: 1 / -1;
      }

      label {
        display: block;
        font-weight: 500;
        margin-bottom: 8px;
        font-size: 14px;
      }

      .required {
        color: var(--danger);
      }

      input,
      textarea {
        width: 100%;
        padding: 12px 14px;
        border: 1px solid var(--border);
        border-radius: 12px;
        font-size: 14px;
        transition: all 0.3s;
        font-family: inherit;
      }

      input:focus,
      textarea:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(10, 10, 10, 0.1);
      }

      input.error,
      textarea.error {
        border-color: var(--danger);
      }

      .error-message {
        color: var(--danger);
        font-size: 12px;
        margin-top: 4px;
      }

      /* Payment Page */
      .payment-methods {
        display: grid;
        gap: 16px;
        margin-bottom: 20px;
      }

      .payment-method {
        border: 2px solid var(--border);
        display: flex;
        justify-content: space-between;
        border-radius: 16px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s;
        align-items: center;
        gap: 16px;
        background: white;
      }

      .payment-method:hover {
        border-color: #2c3e50;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .payment-method.selected {
        border-color: #2c3e50;
        background: #f0f9ff;
      }

      .payment-icon {
        width: 50px;
        height: 50px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        flex-shrink: 0;
        background: #f8f9fa;
      }

      .payment-info {
        flex: 1;
      }

      .payment-name {
        font-weight: 600;
        font-size: 16px;
        margin-bottom: 4px;
      }

      .payment-desc {
        font-size: 13px;
        color: var(--secondaryText);
      }

      .payment-radio {
        width: 24px;
        height: 24px;
        border: 2px solid var(--border);
        border-radius: 50%;
        position: relative;
        flex-shrink: 0;
      }

      .payment-method.selected .payment-radio {
        border-color: #2c3e50;
      }

      .payment-method.selected .payment-radio::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #2c3e50;
      }

      .pay-now-btn {
        width: 100%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 14px;
        border-radius: 12px;
        font-weight: 700;
        font-size: 16px;
        border: none;
        cursor: pointer;
        transition: all 0.3s;
        margin-top: 20px;
      }

      .pay-now-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
      }

      .pay-now-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      /* Success Modal */
      .success-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        z-index: 9999;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .success-modal.active {
        display: flex;
      }

      .success-content {
        background: white;
        padding: 40px;
        border-radius: 24px;
        text-align: center;
        max-width: 400px;
        width: 100%;
        animation: successPop 0.5s ease;
      }

      @keyframes successPop {
        0% {
          transform: scale(0.8);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .success-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        font-size: 40px;
        color: white;
      }

      .success-title {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 12px;
      }

      .success-message {
        color: var(--secondaryText);
        margin-bottom: 24px;
      }

      .success-btn {
        background: #2c3e50;
        color: white;
        padding: 12px 32px;
        border-radius: 12px;
        border: none;
        font-weight: 600;
        cursor: pointer;
        transition: 0.3s;
        width: 100%;
      }

      .success-btn:hover {
        background: #1a252f;
      }

      /* Toast */
      .toast {
        position: fixed;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%) translateY(100px);
        background: var(--primary);
        color: #fff;
        padding: 12px 24px;
        border-radius: 50px;
        opacity: 0;
        pointer-events: none;
        transition: 0.4s ease;
        font-size: 14px;
        z-index: 999999;
        width: max-content;
        max-width: 90%;
        text-align: center;
      }

      .toast.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }

      /* =========Banner=========== */
      /* Menu Page */
       .menu-container {
    padding: 0;              /* REMOVE GAP */
    max-width: 1400px;
    margin: 0 auto;
}
.hero-banner {
    /* Container for the video and content */
    position: relative; /* CRITICAL: Allows content to be layered on top */
    width: 100%;
    height: 40vh;
    aspect-ratio: 18/5; /* Keep the desired aspect ratio */
    border-radius: 20px;
    margin: 0;
    /* margin-top: -20px; */
    overflow: hidden;
    
}

.hero-video {
    /* Make the video fill the entire container */
    position: absolute;
    top: 0;
    left: 0;
    margin-top: 10px;
    border-radius: 10px;
    width: 100%;
    height: 100%;

    /* This is the video equivalent of background-size: cover; */
    object-fit: cover;
    
    /* Ensure the video stays behind the content */
    z-index: 1; 
}

/* ===== Tablet & Mobile Media Queries ===== */
@media (max-width: 992px) {
    .hero-banner {
        border-radius: 18px;
    }
}

@media (max-width: 600px) {
    .hero-banner {
        border-radius: 14px;
        
    }
}
      /* Responsive Design */
      @media (max-width: 1280px) {
        .container,
        .cart-container {
          padding: 20px;
        }

        .restaurants-grid {
          grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        }

        .checkout-grid,
        .cart-layout {
          gap: 20px;
        }
      }

      @media (max-width: 992px) {
        .header {
          padding: 14px 18px;
        }

        .logo-main {
          font-size: 30px;
        }

        .cart-layout,
        .checkout-grid {
          grid-template-columns: 1fr;
        }

        .restaurants-grid {
          grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        }
      }

      @media (max-width: 768px) {
        .header {
          padding: 12px 16px;
        }

        .header-actions {
          gap: 10px;
        }

        .header-icon-btn {
          width: 45px;
          height: 45px;
        }
        .section-titles{
          font-size: 20px;
        }
        .hero-video{
          margin-top:-20px;
  
        }
        .hero-banner{
          margin-bottom: -5px;

        }
        

        .header-icon-btn i {
          font-size: 1.3rem;
        }

        .logo-main {
          font-size: 26px;
        }

        .section-title {
          font-size: 22px;
        }

        .cart-item {
          grid-template-columns: 1fr;
          text-align: center;
          padding: 12px;
          gap: 10px;
        }

        .cart-item-img img {
          margin: 0 auto;
        }

        .cart-item-actions {
          border-top: 1px solid var(--border);
          padding-top: 10px;
          flex-direction: row;
          justify-content: space-between;
          width: 100%;
        }

        .form-grid {
          grid-template-columns: 1fr;
        }

        .form-section {
          padding: 16px;
        }

        .payment-method {
          padding: 14px;
        }

        .payment-icon {
          width: 38px;
          height: 38px;
          font-size: 18px;
        }

        .restaurants-grid {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 480px) {
        .logo-main {
          font-size: 24px;
        }

        .logo-top {
          font-size: 12px;
        }

        .header {
          padding: 10px 12px;
        }

        .back-btn {
          width: 100%;
          justify-content: center;
        }

        .form-section {
          padding: 14px;
        }

        .cart-inner {
          padding: 16px;
        }
      }

      
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="logo" onclick="app.showPage('home')">
        <span class="logo-top">FOOD</span>
        <span class="logo-main">EXPRESS</span>
      </div>

      <div class="header-actions">
        <a href="index.html" class="header-icon-btn" title="Back to Home">
            <i class="fas fa-home"></i>
        </a>

        <button class="header-icon-btn" onclick="app.showPage('cart')">
          <i class="fas fa-shopping-bag"></i>
          <div class="cart-count" id="cartCount">0</div>
        </button>
      </div>
    </header>

     <section id="menuPage" class="page-section active">
        <div class="menu-container">
           <div class="hero-banner">
    <video autoplay loop muted playsinline class="hero-video">
        <source src="/Images/deliveryvideo.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">Cart updated</div>

    <!-- Home Page -->
    <div id="homePage" class="page-view active">
      <div class="container">
        <section class="section">
          <div class="section-header">
            <h1 class="section-titles">Top Restaurants Near You</h1>
          </div>

          <div class="restaurants-grid" id="restaurantsGrid"></div>
        </section>
      </div>
    </div>

    <!-- Restaurant Detail Page -->
    <div id="restaurantPage" class="page-view">
      <div class="container">
        <button class="back-btn" onclick="app.showPage('home')">
          <i class="fas fa-arrow-left"></i> Back to Restaurants
        </button>
        <div id="restaurantDetail"></div>
        <div id="menuSection"></div>
      </div>
    </div>

    <!-- Cart Page -->
    <section id="cartPage" class="page-view">
      <div class="cart-container">
        <div class="cart-inner">
          <div class="cart-top">
            <h2>YOUR CART <span id="cartItemsCount">(0 items)</span></h2>
          </div>

          <div class="cart-layout">
            <div class="cart-left">
              <div id="emptyCartMsg" class="empty-cart" style="display: none">
                <i class="fas fa-shopping-cart"></i>
                <h3>Your cart is empty</h3>
                <p>Add items to get started</p>
              </div>
              <div id="cartItems" class="cart-items"></div>
              <button onclick="app.showPage('home')" class="back-btn">
                <i class="fas fa-arrow-left"></i> Continue Shopping
              </button>
            </div>

            <div class="cart-right">
              <div class="cart-box">
                <h3>Order Summary</h3>
                <div class="summary-row">
                  <span>Subtotal</span>
                  <span id="summarySubtotal">‚Çπ0.00</span>
                </div>
                <div class="summary-row">
                  <span>Product Discount (15%)</span>
                  <span id="summaryDiscount">- ‚Çπ0.00</span>
                </div>
                <div class="summary-row">
                  <span>GST (5%)</span>
                  <span id="summaryTaxes">‚Çπ0.00</span>
                </div>
                <div class="summary-row">
                  <span>Packaging Charge</span>
                  <span id="summaryPackaging">‚Çπ20.00</span>
                </div>
                <div class="summary-row">
                  <span>Delivery Charge</span>
                  <span id="summaryDelivery">‚Çπ40.00</span>
                </div>
                <hr />
                <div class="summary-row total-row">
                  <span>Total Amount</span>
                  <span id="summaryTotal">‚Çπ0.00</span>
                </div>
                <button id="checkoutBtn" class="checkout-btn">
                  Proceed to Checkout
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Checkout Page -->
    <section id="checkoutPage" class="page-view">
      <div class="cart-container">
        <div class="cart-inner">
          <div class="cart-top">
            <h2>CHECKOUT</h2>
          </div>

          <div class="checkout-grid">
            <div>
              <div class="form-section">
                <h3 class="section-title">Contact Information</h3>
                <div class="form-grid">
                  <div class="form-group">
                    <label>Full Name <span class="required">*</span></label>
                    <input
                      type="text"
                      id="fullName"
                      placeholder="Enter your full name"
                    />
                    <div class="error-message" id="fullNameError"></div>
                  </div>
                  <div class="form-group">
                    <label>Email <span class="required">*</span></label>
                    <input
                      type="email"
                      id="email"
                      placeholder="Enter your email"
                    />
                    <div class="error-message" id="emailError"></div>
                  </div>
                  <div class="form-group full-width">
                    <label>Phone Number <span class="required">*</span></label>
                    <input
                      type="tel"
                      id="phoneNumber"
                      placeholder="Enter your phone number"
                    />
                    <div class="error-message" id="phoneNumberError"></div>
                  </div>
                </div>
              </div>

              <div class="form-section">
                <h3 class="section-title">Delivery Address</h3>
                <div class="form-grid">
                  <div class="form-group full-width">
                    <label
                      >Complete Address <span class="required">*</span></label
                    >
                    <textarea
                      id="fullAddress"
                      placeholder="Enter your complete delivery address"
                      rows="3"
                    ></textarea>
                    <div class="error-message" id="fullAddressError"></div>
                  </div>
                </div>
              </div>

              <button onclick="app.showPage('cart')" class="back-btn">
                <i class="fas fa-arrow-left"></i> Back to Cart
              </button>
            </div>

            <div>
              <div class="cart-box">
                <h3>Order Summary</h3>
                <div class="summary-row">
                  <span>Subtotal</span>
                  <span id="checkoutSubtotal">‚Çπ0.00</span>
                </div>
                <div class="summary-row">
                  <span>Discount (15%)</span>
                  <span id="checkoutDiscount">- ‚Çπ0.00</span>
                </div>
                <div class="summary-row">
                  <span>GST (5%)</span>
                  <span id="checkoutTaxes">‚Çπ0.00</span>
                </div>
                <div class="summary-row">
                  <span>Packaging</span>
                  <span id="checkoutPackaging">‚Çπ20.00</span>
                </div>
                <div class="summary-row">
                  <span>Delivery</span>
                  <span id="checkoutDelivery">‚Çπ40.00</span>
                </div>
                <hr />
                <div class="summary-row total-row">
                  <span>Total Payable</span>
                  <span id="checkoutTotal">‚Çπ0.00</span>
                </div>

                <button class="checkout-btn" id="paymentBtn">
                  Proceed to Payment
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Payment Page -->
    <section id="paymentPage" class="page-view">
      <div class="cart-container">
        <div class="cart-inner">
          <div class="cart-top">
            <h2>PAYMENT METHOD</h2>
          </div>

          <div class="checkout-grid">
            <div>
              <div class="form-section">
                <h3 class="section-title">Choose Payment Method</h3>

                <div class="payment-methods">
                  <div class="payment-method" data-method="gpay">
                    <div class="payment-icon">üí≥</div>
                    <div class="payment-info">
                      <div class="payment-name">Google Pay</div>
                      <div class="payment-desc">Pay securely with GPay</div>
                    </div>
                    <div class="payment-radio"></div>
                  </div>

                  <div class="payment-method" data-method="paytm">
                    <div class="payment-icon">üí∞</div>
                    <div class="payment-info">
                      <div class="payment-name">Paytm</div>
                      <div class="payment-desc">Pay via Paytm wallet</div>
                    </div>
                    <div class="payment-radio"></div>
                  </div>

                  <div class="payment-method" data-method="PhonePe">
                    <div class="payment-icon">üí≥</div>
                    <div class="payment-info">
                      <div class="payment-name">PhonePe</div>
                      <div class="payment-desc">pay securely with Phonepe</div>
                    </div>
                    <div class="payment-radio"></div>
                  </div>
                </div>

                <button class="pay-now-btn" id="confirmPaymentBtn" disabled>
                  Confirm Payment
                </button>
              </div>

              <button onclick="app.showPage('checkout')" class="back-btn">
                <i class="fas fa-arrow-left"></i> Back to Checkout
              </button>
            </div>

            <div>
              <div class="cart-box">
                <h3>Payment Summary</h3>
                <div class="summary-row">
                  <span>Total Amount</span>
                  <span id="paymentTotal">‚Çπ0.00</span>
                </div>
                <hr />
                <div class="summary-row total-row">
                  <span>Amount to Pay</span>
                  <span id="paymentAmount">‚Çπ0.00</span>
                </div>

                <div
                  style="
                    background: #f0f9ff;
                    padding: 16px;
                    border-radius: 12px;
                    margin-top: 20px;
                  "
                >
                  <div
                    style="font-size: 13px; color: #0369a1; margin-bottom: 8px"
                  >
                    <strong>‚úì</strong> Secure Payment
                  </div>
                  <div style="font-size: 13px; color: #0369a1">
                    <strong>‚úì</strong> 100% Safe & Encrypted
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Success Modal -->
    <div id="successModal" class="success-modal">
      <div class="success-content">
        <div class="success-icon">‚úì</div>
        <div class="success-title">Order Successful!</div>
        <div class="success-message">
          Your order has been placed successfully. We'll deliver it soon!
        </div>
        <button class="success-btn" onclick="app.closeSuccessModal()">
          Continue Shopping
        </button>
      </div>
    </div>

    <script>
      // Data
      const data = {
        restaurants: [
          {
            id: 1,
            name: "Domino's Pizza",
            img: "/Images/Dominos Pizza.jpg",
            rating: 4.3,
            time: "25-30 mins",
            cuisine: "Pizzas, Italian",
          },
          {
            id: 2,
            name: "KFC",
            img: "/Images/KFC.jpg",
            rating: 4.1,
            time: "30-35 mins",
            cuisine: "Burgers, Fast Food",
          },
          {
            id: 3,
            name: "Burger King",
            img: "/Images/Burger King.jpg",
            rating: 4.2,
            time: "35-40 mins",
            cuisine: "Burgers, American",
          },
          {
            id: 4,
            name: "Saravana Bhavan",
            img: "/Images/Saravana Bhavan.jpg",
            rating: 4.5,
            time: "20-25 mins",
            cuisine: "South Indian, Veg",
          },
          {
            id: 5,
            name: "Paradise Biryani",
            img: "/Images/Paradise Biryani.jpg",
            rating: 4.4,
            time: "40-45 mins",
            cuisine: "Biryani, Mughlai",
          },
          {
            id: 6,
            name: "Subway",
            img: "/Images/Subway8.jpg",
            rating: 4.0,
            time: "25-30 mins",
            cuisine: "Healthy Food, Sandwiches",
          },
          {
            id: 7,
            name: "Pizza Hut",
            img: "/Images/Pizza Hut.jpg",
            rating: 4.1,
            time: "35-40 mins",
            cuisine: "Pizzas",
          },
          {
            id: 8,
            name: "McDonald's",
            img: "/Images/McDonalds.jpg",
            rating: 4.3,
            time: "30-35 mins",
            cuisine: "Burgers, Beverages",
          },
          {
            id: 9,
            name: "Wow! Momo",
            img: "/Images/Wow! Momo.webp",
            rating: 4.2,
            time: "25-30 mins",
            cuisine: "Chinese, Momos",
          },
          {
            id: 10,
            name: "Belgian Waffle",
            img: "/Images/Belgian Waffle.jpg",
            rating: 4.6,
            time: "30-35 mins",
            cuisine: "Desserts, Waffles",
          },
          {
            id: 11,
            name: "Haldiram's",
            img: "/Images/Haldiram's.webp",
            rating: 4.4,
            time: "20-25 mins",
            cuisine: "North Indian, Snacks",
          },
          {
            id: 12,
            name: "Baskin Robbins",
            img: "/Images/Baskin Robbins.jpg",
            rating: 4.5,
            time: "15-20 mins",
            cuisine: "Ice Cream, Desserts",
          },
          {
            id: 13,
            name: "Taco Bell",
            img: "/Images/Tacobell.jpg",
            rating: 4.2,
            time: "25-30 mins",
            cuisine: "Mexican, Fast Food",
          },
          {
            id: 14,
            name: "Barbeque Nation",
            img: "/Images/Barbeque Nation.webp",
            rating: 4.3,
            time: "40-45 mins",
            cuisine: "Barbecue, Grill",
          },
          {
            id: 15,
            name: "Anjappar",
            img: "/Images/Anjappaar.png",
            rating: 4.0,
            time: "35-40 mins",
            cuisine: "Chettinad, South Indian",
          },
          {
            id: 16,
            name: "Starbucks",
            img: "/Images/Starbucks.jpg",
            rating: 4.3,
            time: "15-20 mins",
            cuisine: "Cafe, Beverages",
          },
          {
            id: 17,
            name: "A2B (Adyar Ananda Bhavan)",
            img: "/Images/A2b.jpg",
            rating: 4.5,
            time: "20-25 mins",
            cuisine: "South Indian, Veg",
          },
          {
            id: 18,
            name: "Dominar Tandoori",
            img: "/Images/Dominar Tandoori.jpg",
            rating: 3.9,
            time: "45-50 mins",
            cuisine: "Tandoori, North Indian",
          },
          {
            id: 19,
            name: "Empire Restaurant",
            img: "/Images/Empire Restaurant.webp",
            rating: 4.2,
            time: "30-35 mins",
            cuisine: "Biryani, Arabian",
          },
          {
            id: 20,
            name: "Chai Kings",
            img: "/Images/Chai Kings.png",
            rating: 4.4,
            time: "20-25 mins",
            cuisine: "Tea, Snacks",
          },
          {
            id: 21,
            name: "Keventers",
            img: "/Images/Keventers.jpg",
            rating: 4.3,
            time: "15-20 mins",
            cuisine: "Milkshakes, Desserts",
          },
          {
            id: 22,
            name: "Meghana Foods",
            img: "/Images/Meghana Foods.jpg",
            rating: 4.6,
            time: "35-40 mins",
            cuisine: "Biryani, Andhra",
          },
          {
            id: 23,
            name: "Cream Stone",
            img: "/Images/Cream Stone.jpg",
            rating: 4.5,
            time: "20-25 mins",
            cuisine: "Ice Cream, Desserts",
          },
          {
            id: 24,
            name: "Cafe Coffee Day",
            img: "/Images/Cafe Coffee Day.jpg",
            rating: 4.0,
            time: "20-25 mins",
            cuisine: "Cafe, Snacks",
          },
          {
            id: 25,
            name: "Anandha Bhavan Sweets",
            img: "/Images/Anandha Bhavan Sweets.webp",
            rating: 4.4,
            time: "20-25 mins",
            cuisine: "Sweets, Snacks",
          },
          {
            id: 26,
            name: "Punjab Grill",
            img: "/Images/Punjab Grill.jpg",
            rating: 4.2,
            time: "35-40 mins",
            cuisine: "Punjabi, Tandoor",
          },
          {
            id: 27,
            name: "Wangs Kitchen",
            img: "/Images/Wangs Kitchen.webp",
            rating: 4.1,
            time: "30-35 mins",
            cuisine: "Chinese",
          },
          {
            id: 28,
            name: "Mainland China",
            img: "/Images/Mainland China.avif",
            rating: 4.3,
            time: "35-45 mins",
            cuisine: "Chinese, Asian",
          },
          {
            id: 29,
            name: "Thalappakatti",
            img: "/Images/Thalappakatti.jpg",
            rating: 4.6,
            time: "30-35 mins",
            cuisine: "Biryani, South Indian",
          },
          {
            id: 30,
            name: "Aroma Multi Cuisine",
            img: "/Images/Biriyani House.avif",
            rating: 4.1,
            time: "25-30 mins",
            cuisine: "Chinese, Indian",
          },
        ],

        menuItems: {
          1: [
            {
              id: 101,
              name: "Margherita Pizza",
              price: 199,
              img: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=300",
              desc: "Classic cheese pizza",
            },
            {
              id: 102,
              name: "Pepperoni Pizza",
              price: 349,
              img: "https://images.unsplash.com/photo-1628840042765-356cda07504e?w=300",
              desc: "Loaded with pepperoni",
            },
            {
              id: 103,
              name: "Veggie Paradise",
              price: 299,
              img: "https://images.unsplash.com/photo-1571997478779-2adcbbe9ab2f?w=300",
              desc: "Fresh vegetables",
            },
            {
              id: 104,
              name: "Chicken BBQ",
              price: 399,
              img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=300",
              desc: "BBQ chicken special",
            },
            {
              id: 105,
              name: "Cheese Burst",
              price: 449,
              img: "https://images.unsplash.com/photo-1513104890138-7c749659a591?w=300",
              desc: "Extra cheese loaded",
            },

            // NEW ITEMS
            {
              id: 106,
              name: "Garlic Breadsticks",
              price: 99,
              img: "https://images.unsplash.com/photo-1573140401552-3fab0b24306f?w=300",
              desc: "Crispy garlic bread",
            },
            {
              id: 107,
              name: "Choco Lava Cake",
              price: 118,
              img: "https://images.unsplash.com/photo-1606313564200-e75d5e30476c?w=300",
              desc: "Molten chocolate center",
            },
            {
              id: 108,
              name: "Pasta Italiano",
              price: 229,
              img: "https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9?w=300",
              desc: "Creamy Italian pasta",
            },
            {
              id: 109,
              name: "Chicken Wings",
              price: 249,
              img: "https://images.unsplash.com/photo-1608039829572-78524f79c4c7?w=300",
              desc: "Crispy spicy wings",
            },
            {
              id: 110,
              name: "Coke (500ml)",
              price: 40,
              img: "https://images.unsplash.com/photo-1554866585-cd94860890b7?w=300",
              desc: "Chilled soft drink",
            },
          ],

          2: [
            {
              id: 201,
              name: "Zinger Burger",
              price: 199,
              img: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=300",
              desc: "Crispy chicken burger",
            },
            {
              id: 202,
              name: "Chicken Bucket",
              price: 599,
              img: "https://images.unsplash.com/photo-1626082927389-6cd097cdc6ec?w=300",
              desc: "8 pieces fried chicken",
            },
            {
              id: 203,
              name: "Popcorn Chicken",
              price: 149,
              img: "https://images.unsplash.com/photo-1562967916-eb82221dfb92?w=300",
              desc: "Bite-sized chicken",
            },
            {
              id: 204,
              name: "Chicken Biryani",
              price: 249,
              img: "https://images.unsplash.com/photo-1563379091339-03b21ab4a4f8?w=300",
              desc: "Fragrant biryani",
            },
            {
              id: 205,
              name: "Hot Wings",
              price: 179,
              img: "https://images.unsplash.com/photo-1527477396000-e27163b481c2?w=300",
              desc: "Spicy chicken wings",
            },

            // NEW ITEMS
            {
              id: 206,
              name: "French Fries",
              price: 99,
              img: "https://images.unsplash.com/photo-1630384082525-1e1e7e3a2c56?w=300",
              desc: "Crispy golden fries",
            },
            {
              id: 207,
              name: "Coleslaw",
              price: 69,
              img: "https://images.unsplash.com/photo-1604909052743-94e838986d24?w=300",
              desc: "Fresh creamy slaw",
            },
            {
              id: 208,
              name: "Chicken Strips",
              price: 169,
              img: "https://images.unsplash.com/photo-1562967914-608f82629710?w=300",
              desc: "Crispy chicken strips",
            },
            {
              id: 209,
              name: "Chocolate Mousse",
              price: 89,
              img: "https://images.unsplash.com/photo-1541518763669-27fef04b14ea?w=300",
              desc: "Rich chocolate dessert",
            },
            {
              id: 210,
              name: "Pepsi (500ml)",
              price: 40,
              img: "https://images.unsplash.com/photo-1629203851122-3726ecdf080e?w=300",
              desc: "Chilled Pepsi",
            },
          ],
        },
      };

      // Generate menu for all restaurants
      data.restaurants.forEach((rest) => {
        if (!data.menuItems[rest.id]) {
          data.menuItems[rest.id] = [
            {
              id: rest.id * 100 + 1,
              name: "Special Combo",
              price: 299,
              img: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=300",
              desc: "Chef's special combo",
            },
            {
              id: rest.id * 100 + 2,
              name: "Deluxe Meal",
              price: 399,
              img: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=300",
              desc: "Premium deluxe meal",
            },
            {
              id: rest.id * 100 + 3,
              name: "Classic Dish",
              price: 249,
              img: "https://images.unsplash.com/photo-1546793665-c74683f339c1?w=300",
              desc: "Traditional classic",
            },
            {
              id: rest.id * 100 + 4,
              name: "Premium Pack",
              price: 449,
              img: "https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=300",
              desc: "Premium selection",
            },
            {
              id: rest.id * 100 + 5,
              name: "Value Meal",
              price: 199,
              img: "https://images.unsplash.com/photo-1563805042-7684c019e1cb?w=300",
              desc: "Best value for money",
            },
            {
              id: rest.id * 100 + 6,
              name: "Family Feast",
              price: 499,
              img: "https://images.unsplash.com/photo-1534422298391-e4f8c172dddb?w=300",
              desc: "Family sharing platter",
            },
            {
              id: rest.id * 100 + 7,
              name: "Signature Plate",
              price: 329,
              img: "https://images.unsplash.com/photo-1606491956689-2ea866880c84?w=300",
              desc: "Restaurant signature dish",
            },
            {
              id: rest.id * 100 + 8,
              name: "Chef Bowl",
              price: 259,
              img: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=300",
              desc: "Freshly curated chef bowl",
            },
            {
              id: rest.id * 100 + 9,
              name: "Party Platter",
              price: 599,
              img: "https://images.unsplash.com/photo-1543353071-10c8ba85a904?w=300",
              desc: "Perfect for celebrations",
            },
            {
              id: rest.id * 100 + 10,
              name: "Royal Combo",
              price: 349,
              img: "https://images.unsplash.com/photo-1600891964599-f61ba0e24092?w=300",
              desc: "Premium dining experience",
            },
            {
              id: rest.id * 100 + 11,
              name: "Express Meal",
              price: 179,
              img: "https://images.unsplash.com/photo-1586816001966-79b736744398?w=300",
              desc: "Quick and tasty option",
            },
            {
              id: rest.id * 100 + 12,
              name: "Spice Box",
              price: 219,
              img: "https://images.unsplash.com/photo-1511690656952-34342bb7c2f2?w=300",
              desc: "Flavour packed curry box",
            },
            {
              id: rest.id * 100 + 13,
              name: "Dessert Bite",
              price: 99,
              img: "https://images.unsplash.com/photo-1578926280870-5cc16ee3df1a?w=300",
              desc: "Sweet finishing treat",
            },
          ];
        }
      });

      // App State
      const app = {
        cart: [],
        currentRestaurant: null,

        init() {
          this.renderRestaurants();
          this.updateCartCount();
          this.setupEventListeners();
        },

        showPage(page) {
          document
            .querySelectorAll(".page-view")
            .forEach((p) => p.classList.remove("active"));
          document.getElementById(`${page}Page`).classList.add("active");
          window.scrollTo(0, 0);

          if (page === "cart") {
            this.renderCart();
          } else if (page === "checkout") {
            this.updateCheckoutSummary();
          } else if (page === "payment") {
            this.updatePaymentSummary();
          }
        },

        renderRestaurants() {
          const grid = document.getElementById("restaurantsGrid");
          grid.innerHTML = data.restaurants
            .map(
              (r) => `
                    <div class="restaurant-card" onclick="app.openRestaurant(${r.id})">
                        <img src="${r.img}" alt="${r.name}" class="card-img">
                        <div class="card-info">
                            <div class="card-name">${r.name}</div>
                            <div style="display: flex; gap: 8px; margin: 8px 0; font-size: 14px; color: #666;">
                                <span>‚≠ê ${r.rating}</span>
                                <span>‚Ä¢</span>
                                <span>${r.time}</span>
                            </div>
                            <div style="color: #888; font-size: 14px;">${r.cuisine}</div>
                        </div>
                    </div>
                `
            )
            .join("");
        },

        openRestaurant(id) {
          this.currentRestaurant = data.restaurants.find((r) => r.id === id);
          this.showPage("restaurant");
          this.renderRestaurantDetail();
        },

        renderRestaurantDetail() {
          const r = this.currentRestaurant;
          const menuItems = data.menuItems[r.id] || [];

          document.getElementById("restaurantDetail").innerHTML = `
                    <div style="background: white; padding: 30px; border-radius: 16px; margin: 20px 0;">
                        <h1 style="font-size: 32px; margin-bottom: 12px;">${r.name}</h1>
                        <div style="display: flex; gap: 15px; font-size: 16px; color: #666; margin-bottom: 10px;">
                            <span>‚≠ê ${r.rating}</span>
                            <span>‚Ä¢</span>
                            <span>${r.time}</span>
                        </div>
                        <p style="color: #888; font-size: 16px;">${r.cuisine}</p>
                    </div>
                `;

          document.getElementById("menuSection").innerHTML = `
                    <h2 style="font-size: 24px; margin: 30px 0 20px; font-weight: 700;">Menu</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;">
                        ${menuItems
                          .map(
                            (item) => `
                            <div style="background: white; padding: 16px; border-radius: 16px; border: 1px solid var(--border);">
                                <img src="${item.img}" style="width: 100%; height: 180px; object-fit: cover; border-radius: 12px; margin-bottom: 12px;">
                                <h3 style="font-size: 18px; font-weight: 700; margin-bottom: 6px;">${item.name}</h3>
                                <p style="color: #888; font-size: 14px; margin-bottom: 12px;">${item.desc}</p>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <span style="font-size: 20px; font-weight: 700;">‚Çπ${item.price}</span>
                                    <button onclick="app.addToCart(${item.id})" style="background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600;">
                                        Add to Cart
                                    </button>
                                </div>
                            </div>
                        `
                          )
                          .join("")}
                    </div>
                `;
        },

        addToCart(itemId) {
          const restaurant = this.currentRestaurant;
          const menuItems = data.menuItems[restaurant.id];
          const item = menuItems.find((m) => m.id === itemId);

          const existing = this.cart.find((c) => c.id === itemId);
          if (!existing) {
            this.cart.push({
              ...item,
              restaurantName: restaurant.name,
              quantity: 1,
            });
            this.showToast(`${item.name} added to cart!`);
          } else {
            existing.quantity++;
            this.showToast(`${item.name} quantity updated!`);
          }

          this.updateCartCount();
        },

        renderCart() {
          const container = document.getElementById("cartItems");
          const emptyMsg = document.getElementById("emptyCartMsg");

          if (this.cart.length === 0) {
            emptyMsg.style.display = "block";
            container.innerHTML = "";
            this.updateSummary();
            return;
          }

          emptyMsg.style.display = "none";
          container.innerHTML = this.cart
            .map(
              (item, index) => `
                    <div class="cart-item">
                        <div class="cart-item-img">
                            <img src="${item.img}" alt="${item.name}">
                        </div>
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-restaurant">${
                              item.restaurantName
                            }</div>
                            <div style="color: #888; font-size: 13px;">‚Çπ${
                              item.price
                            } each</div>
                        </div>
                        <div class="cart-item-actions">
                            <div class="qty-control">
                                <button onclick="app.updateQty(${index}, -1)">‚àí</button>
                                <span>${item.quantity}</span>
                                <button onclick="app.updateQty(${index}, 1)">+</button>
                            </div>
                            <div class="cart-item-total">‚Çπ${
                              item.price * item.quantity
                            }</div>
                            <button class="remove-item" onclick="app.removeItem(${index})">üóëÔ∏è</button>
                        </div>
                    </div>
                `
            )
            .join("");

          this.updateSummary();
        },

        updateQty(index, delta) {
          this.cart[index].quantity += delta;
          if (this.cart[index].quantity <= 0) {
            this.cart.splice(index, 1);
          }
          this.renderCart();
          this.updateCartCount();
        },

        removeItem(index) {
          this.cart.splice(index, 1);
          this.renderCart();
          this.updateCartCount();
          this.showToast("Item removed from cart");
        },

        calculateSummary() {
          const subtotal = this.cart.reduce(
            (sum, item) => sum + item.price * item.quantity,
            0
          );
          const discount = subtotal * 0.15;
          const afterDiscount = subtotal - discount;
          const gst = afterDiscount * 0.05;
          const packaging = this.cart.length > 0 ? 20 : 0;
          const delivery = this.cart.length > 0 ? 40 : 0;
          const total = afterDiscount + gst + packaging + delivery;

          return { subtotal, discount, gst, packaging, delivery, total };
        },

        updateSummary() {
          const summary = this.calculateSummary();
          document.getElementById(
            "summarySubtotal"
          ).textContent = `‚Çπ${summary.subtotal.toFixed(2)}`;
          document.getElementById(
            "summaryDiscount"
          ).textContent = `- ‚Çπ${summary.discount.toFixed(2)}`;
          document.getElementById(
            "summaryTaxes"
          ).textContent = `‚Çπ${summary.gst.toFixed(2)}`;
          document.getElementById(
            "summaryPackaging"
          ).textContent = `‚Çπ${summary.packaging.toFixed(2)}`;
          document.getElementById(
            "summaryDelivery"
          ).textContent = `‚Çπ${summary.delivery.toFixed(2)}`;
          document.getElementById(
            "summaryTotal"
          ).textContent = `‚Çπ${summary.total.toFixed(2)}`;
          document.getElementById(
            "cartItemsCount"
          ).textContent = `(${this.cart.length} items)`;
        },

        updateCheckoutSummary() {
          const summary = this.calculateSummary();
          document.getElementById(
            "checkoutSubtotal"
          ).textContent = `‚Çπ${summary.subtotal.toFixed(2)}`;
          document.getElementById(
            "checkoutDiscount"
          ).textContent = `- ‚Çπ${summary.discount.toFixed(2)}`;
          document.getElementById(
            "checkoutTaxes"
          ).textContent = `‚Çπ${summary.gst.toFixed(2)}`;
          document.getElementById(
            "checkoutPackaging"
          ).textContent = `‚Çπ${summary.packaging.toFixed(2)}`;
          document.getElementById(
            "checkoutDelivery"
          ).textContent = `‚Çπ${summary.delivery.toFixed(2)}`;
          document.getElementById(
            "checkoutTotal"
          ).textContent = `‚Çπ${summary.total.toFixed(2)}`;
        },

        updatePaymentSummary() {
          const summary = this.calculateSummary();
          document.getElementById(
            "paymentTotal"
          ).textContent = `‚Çπ${summary.total.toFixed(2)}`;
          document.getElementById(
            "paymentAmount"
          ).textContent = `‚Çπ${summary.total.toFixed(2)}`;
        },

        validateForm() {
          const fields = ["fullName", "email", "phoneNumber", "fullAddress"];
          let isValid = true;

          fields.forEach((field) => {
            const input = document.getElementById(field);
            const error = document.getElementById(field + "Error");

            if (!input.value.trim()) {
              input.classList.add("error");
              error.textContent = "This field is required";
              isValid = false;
            } else {
              input.classList.remove("error");
              error.textContent = "";
            }
          });

          return isValid;
        },

        processPayment() {
          const selectedMethod = document.querySelector(
            ".payment-method.selected"
          );

          if (!selectedMethod) {
            this.showToast("Please select a payment method");
            return;
          }

          const btn = document.getElementById("confirmPaymentBtn");
          const methodName =
            selectedMethod.querySelector(".payment-name").textContent;

          btn.innerHTML =
            '<span style="display:inline-block;animation:spin 1s linear infinite;">‚è≥</span> Processing...';
          btn.disabled = true;

          this.showToast(`Processing payment via ${methodName}...`);

          setTimeout(() => {
            document.getElementById("successModal").classList.add("active");
            btn.innerHTML = "Confirm Payment";
            btn.disabled = false;
          }, 3000);
        },

        closeSuccessModal() {
          document.getElementById("successModal").classList.remove("active");
          this.cart = [];
          this.updateCartCount();
          this.showPage("home");
          this.showToast("Order placed successfully! üéâ");
        },

        updateCartCount() {
          const count = this.cart.reduce((sum, item) => sum + item.quantity, 0);
          document.getElementById("cartCount").textContent = count;
        },

        showToast(message) {
          const toast = document.getElementById("toast");
          toast.textContent = message;
          toast.classList.add("show");
          setTimeout(() => toast.classList.remove("show"), 2000);
        },

        setupEventListeners() {
          document
            .getElementById("checkoutBtn")
            .addEventListener("click", () => {
              if (this.cart.length === 0) {
                this.showToast("Cart is empty");
                return;
              }
              this.showPage("checkout");
            });

          document
            .getElementById("paymentBtn")
            .addEventListener("click", () => {
              if (this.validateForm()) {
                this.showPage("payment");
              }
            });

          document.querySelectorAll(".payment-method").forEach((method) => {
            method.addEventListener("click", function () {
              document
                .querySelectorAll(".payment-method")
                .forEach((m) => m.classList.remove("selected"));
              this.classList.add("selected");
              document.getElementById("confirmPaymentBtn").disabled = false;
            });
          });

          document
            .getElementById("confirmPaymentBtn")
            .addEventListener("click", () => {
              this.processPayment();
            });

          const formInputs = [
            "fullName",
            "email",
            "phoneNumber",
            "fullAddress",
          ];
          formInputs.forEach((field) => {
            const input = document.getElementById(field);
            input.addEventListener("input", () => {
              input.classList.remove("error");
              document.getElementById(field + "Error").textContent = "";
            });
          });
        },
      };

      // Initialize app
      window.onload = () => app.init();
    </script>
  </body>
</html>
